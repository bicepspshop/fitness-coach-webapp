<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Фитнес-помощник для тренеров</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    
    <!-- Telegram Web App Script -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Chart.js для графиков -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"></script>
    
    <!-- Font Awesome для иконок -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Animate.css для анимаций -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
</head>
<body>
    <!-- Loader -->
    <div id="loader" class="loader">
        <div class="loader-spinner">
            <i class="fas fa-dumbbell fa-spin"></i>
        </div>
        <p>Загрузка фитнес-помощника...</p>
    </div>

    <!-- Main App Container -->
    <div id="app" class="app" style="display: none;">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <button id="menu-toggle" class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 class="header-title">
                    <i class="fas fa-dumbbell"></i>
                    Фитнес-помощник
                </h1>
                <div class="header-actions">
                    <button class="btn-icon" id="notifications-btn" title="Уведомления">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                    <button class="btn-icon" id="profile-btn" title="Профиль">
                        <i class="fas fa-user-circle"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <img src="assets/avatar-placeholder.jpg" alt="Аватар" class="trainer-avatar">
                <div class="trainer-info">
                    <h3 id="trainer-name">Иван Иванов</h3>
                    <p id="trainer-role">Персональный тренер</p>
                </div>
            </div>
            
            <ul class="nav-menu">
                <li><a href="#dashboard" class="nav-link active" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i> Главная
                </a></li>
                <li><a href="#clients" class="nav-link" data-page="clients">
                    <i class="fas fa-users"></i> Клиенты
                </a></li>
                <li><a href="#workouts" class="nav-link" data-page="workouts">
                    <i class="fas fa-dumbbell"></i> Тренировки
                </a></li>
                <li><a href="#programs" class="nav-link" data-page="programs">
                    <i class="fas fa-clipboard-list"></i> Программы
                </a></li>
                <li><a href="#nutrition" class="nav-link" data-page="nutrition">
                    <i class="fas fa-apple-alt"></i> Питание
                </a></li>
                <li><a href="#analytics" class="nav-link" data-page="analytics">
                    <i class="fas fa-chart-line"></i> Аналитика
                </a></li>
                <li><a href="#calendar" class="nav-link" data-page="calendar">
                    <i class="fas fa-calendar"></i> Календарь
                </a></li>
                <li><a href="#finance" class="nav-link" data-page="finance">
                    <i class="fas fa-coins"></i> Финансы
                </a></li>
                <li><a href="#settings" class="nav-link" data-page="settings">
                    <i class="fas fa-cog"></i> Настройки
                </a></li>
            </ul>

            <div class="sidebar-footer">
                <button class="btn btn-outline" id="telegram-bot-btn">
                    <i class="fab fa-telegram"></i> В Telegram
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page active">
                <div class="page-header">
                    <h2>Главная панель</h2>
                    <p>Добро пожаловать в ваш фитнес-помощник!</p>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-clients">25</h3>
                            <p>Всего клиентов</p>
                        </div>
                        <div class="stat-trend positive">
                            <i class="fas fa-arrow-up"></i> +12%
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-dumbbell"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-workouts">156</h3>
                            <p>Тренировок проведено</p>
                        </div>
                        <div class="stat-trend positive">
                            <i class="fas fa-arrow-up"></i> +8%
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-revenue">127,500₽</h3>
                            <p>Доход за месяц</p>
                        </div>
                        <div class="stat-trend positive">
                            <i class="fas fa-arrow-up"></i> +15%
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="today-workouts">5</h3>
                            <p>Тренировок сегодня</p>
                        </div>
                        <div class="stat-trend neutral">
                            <i class="fas fa-minus"></i> 0%
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3>Быстрые действия</h3>
                    <div class="action-buttons">
                        <button class="action-btn" data-page="clients" data-action="add">
                            <i class="fas fa-user-plus"></i>
                            <span>Добавить клиента</span>
                        </button>
                        <button class="action-btn" data-page="workouts" data-action="add">
                            <i class="fas fa-calendar-plus"></i>
                            <span>Запланировать тренировку</span>
                        </button>
                        <button class="action-btn" data-page="programs" data-action="add">
                            <i class="fas fa-plus-circle"></i>
                            <span>Создать программу</span>
                        </button>
                        <button class="action-btn" data-page="nutrition" data-action="add">
                            <i class="fas fa-utensils"></i>
                            <span>План питания</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Activity & Today's Schedule -->
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3><i class="fas fa-clock"></i> Сегодняшнее расписание</h3>
                        <div class="schedule-list">
                            <div class="schedule-item">
                                <div class="schedule-time">09:00</div>
                                <div class="schedule-info">
                                    <strong>Анна Иванова</strong>
                                    <span>Силовая тренировка</span>
                                </div>
                                <div class="schedule-status pending">Ожидается</div>
                            </div>
                            <div class="schedule-item">
                                <div class="schedule-time">11:00</div>
                                <div class="schedule-info">
                                    <strong>Петр Сидоров</strong>
                                    <span>Кардио тренировка</span>
                                </div>
                                <div class="schedule-status completed">Завершено</div>
                            </div>
                            <div class="schedule-item">
                                <div class="schedule-time">14:00</div>
                                <div class="schedule-info">
                                    <strong>Мария Петрова</strong>
                                    <span>Функциональная</span>
                                </div>
                                <div class="schedule-status pending">Ожидается</div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h3><i class="fas fa-chart-line"></i> Прогресс клиентов</h3>
                        <canvas id="progressChart" width="400" height="200"></canvas>
                    </div>
                </div>
            </div>

            <!-- Clients Page -->
            <div id="clients-page" class="page">
                <div class="page-header">
                    <h2>Управление клиентами</h2>
                    <button class="btn btn-primary" id="add-client-btn">
                        <i class="fas fa-plus"></i> Добавить клиента
                    </button>
                </div>

                <div class="page-content">
                    <div class="clients-filters">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="clients-search" placeholder="Поиск клиентов...">
                        </div>
                        <div class="filter-buttons">
                            <button class="filter-btn active" data-filter="all">Все</button>
                            <button class="filter-btn" data-filter="active">Активные</button>
                            <button class="filter-btn" data-filter="inactive">Неактивные</button>
                        </div>
                    </div>

                    <div class="clients-grid" id="clients-grid">
                        <!-- Клиенты будут загружены через JS -->
                    </div>
                </div>
            </div>

            <!-- Workouts Page -->
            <div id="workouts-page" class="page">
                <div class="page-header">
                    <h2>Тренировки</h2>
                    <button class="btn btn-primary" id="add-workout-btn">
                        <i class="fas fa-plus"></i> Запланировать тренировку
                    </button>
                </div>

                <div class="page-content">
                    <div class="workouts-calendar" id="workouts-calendar">
                        <!-- Календарь тренировок -->
                    </div>
                </div>
            </div>

            <!-- Programs Page -->
            <div id="programs-page" class="page">
                <div class="page-header">
                    <h2>Программы тренировок</h2>
                    <button class="btn btn-primary" id="add-program-btn">
                        <i class="fas fa-plus"></i> Создать программу
                    </button>
                </div>

                <div class="page-content">
                    <div class="programs-grid" id="programs-grid">
                        <!-- Программы будут загружены через JS -->
                    </div>
                </div>
            </div>

            <!-- Analytics Page -->
            <div id="analytics-page" class="page">
                <div class="page-header">
                    <h2>Аналитика и отчеты</h2>
                    <div class="date-range-picker">
                        <input type="date" id="start-date">
                        <span>до</span>
                        <input type="date" id="end-date">
                    </div>
                </div>

                <div class="page-content">
                    <div class="analytics-grid">
                        <div class="chart-card">
                            <h3>Динамика клиентов</h3>
                            <canvas id="clientsChart" width="400" height="200"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Доходы по месяцам</h3>
                            <canvas id="revenueChart" width="400" height="200"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Популярные упражнения</h3>
                            <canvas id="exercisesChart" width="400" height="200"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Эффективность тренировок</h3>
                            <canvas id="effectivenessChart" width="400" height="200"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="settings-page" class="page">
                <div class="page-header">
                    <h2>Настройки</h2>
                </div>

                <div class="page-content">
                    <div class="settings-sections">
                        <div class="settings-section">
                            <h3><i class="fas fa-user"></i> Профиль тренера</h3>
                            <form id="profile-form">
                                <div class="form-group">
                                    <label>Имя</label>
                                    <input type="text" id="trainer-first-name" value="Иван">
                                </div>
                                <div class="form-group">
                                    <label>Фамилия</label>
                                    <input type="text" id="trainer-last-name" value="Иванов">
                                </div>
                                <div class="form-group">
                                    <label>Телефон</label>
                                    <input type="tel" id="trainer-phone" value="+7 (999) 123-45-67">
                                </div>
                                <div class="form-group">
                                    <label>Email</label>
                                    <input type="email" id="trainer-email" value="ivan@example.com">
                                </div>
                                <button type="submit" class="btn btn-primary">Сохранить профиль</button>
                            </form>
                        </div>

                        <div class="settings-section">
                            <h3><i class="fas fa-coins"></i> Тарифы</h3>
                            <form id="rates-form">
                                <div class="form-group">
                                    <label>Разовое занятие (₽)</label>
                                    <input type="number" id="hourly-rate" value="2500">
                                </div>
                                <div class="form-group">
                                    <label>Пакет 4 занятия (₽)</label>
                                    <input type="number" id="package-4" value="9000">
                                </div>
                                <div class="form-group">
                                    <label>Пакет 8 занятий (₽)</label>
                                    <input type="number" id="package-8" value="17000">
                                </div>
                                <div class="form-group">
                                    <label>Пакет 12 занятий (₽)</label>
                                    <input type="number" id="package-12" value="24000">
                                </div>
                                <button type="submit" class="btn btn-primary">Сохранить тарифы</button>
                            </form>
                        </div>

                        <div class="settings-section">
                            <h3><i class="fas fa-bell"></i> Уведомления</h3>
                            <div class="notification-settings">
                                <div class="setting-item">
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <div class="setting-info">
                                        <strong>Напоминания о тренировках</strong>
                                        <p>За 2 часа до тренировки</p>
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <div class="setting-info">
                                        <strong>Уведомления о платежах</strong>
                                        <p>При поступлении оплаты</p>
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <label class="switch">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                    <div class="setting-info">
                                        <strong>Еженедельные отчеты</strong>
                                        <p>Статистика по понедельникам</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="modal-overlay" class="modal-overlay">
        <div id="modal" class="modal">
            <div class="modal-header">
                <h3 id="modal-title">Заголовок</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Содержимое модалки -->
            </div>
            <div class="modal-footer" id="modal-footer">
                <button class="btn btn-secondary" id="modal-cancel">Отмена</button>
                <button class="btn btn-primary" id="modal-confirm">Подтвердить</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/clients.js"></script>
    <script src="js/workouts.js"></script>
    <script src="js/telegram.js"></script>
</body>
</html>